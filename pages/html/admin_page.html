<!DOCTYPE html>
<head>
<script src="../../scripts/staff_page_functions.js"></script>
<script src="../../scripts/admin_page_functions.js"></script>
<meta charset="UTF-8" lang="en">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Admin | DOYRMS Registration</title>
</head>

<body>
  <header class="text" id="main_header">
    <img src="../../images/logo.png"></img>
    <h1>DOYRMS Registration</h1>
    <navbar>
      <form method="post">
        <button type="submit" class="navbar_button blue_button" id="sign_out_button" name="admin_sign_out"><span class="left_arrow"></span><spacer></spacer><h5>LOG OUT</h5></button>
      </form>
      <span class="divider"></span>
      <button><h5>CONTACT</h5></button>
      <span class="divider"></span>
      <button><h5>HELP</h5></button>
    </navbar>
  </header>
  <div class="wrapper">
    <div class="text" id="sidebar">
      <container id="sidebar_contents_container">
        <input type="checkbox" id="sidebar_toggle" class="hidden"/>
        <label for="sidebar_toggle" onclick="toggleSidebar()"><span class="left_arrow"></span></label>
        <ul id="sidebar_contents">
          <li class="sidebar_subtitle"><h2>Menu</h2></li>
          <li class="sidebar_subtitle"><h3>Information</h3></li>
          <li onclick="toggleMainSection(this.id,'m1')" class="sidebar_button sidebar_button_active" id="s1"><h4>Home</h4></li>
          <li onclick="toggleMainSection(this.id,'m2')" class="sidebar_button" id="s2"><h4>Activity</h4></li>
          <li onclick="toggleMainSection(this.id,'m3')" class="sidebar_button" id="s3"><h4>Sign In Log</h4></li>
          <li onclick="toggleMainSection(this.id,'m4')" class="sidebar_button" id="s4"><h4>Sign Out Log</h4></li>
          <li onclick="toggleMainSection(this.id,'m5')" class="sidebar_button" id="s5"><h4>Events</h4></li>
          <li class="sidebar_subtitle"><h3>Manage Staff</h3></li>
          <li onclick="toggleMainSection(this.id,'m11')" class="sidebar_button" id="s11"><h4>Edit Staff</h4></li>
          <li class="sidebar_subtitle"><h3>Manage Users</h3></li>
          <li onclick="toggleMainSection(this.id,'m21')" class="sidebar_button" id="s21"><h4>Edit Users</h4></li>
          <li class="sidebar_subtitle"><h3>Manage Database</h3></li>
          <li onclick="toggleMainSection(this.id,'m31')" class="sidebar_button" id="s31"><h4>Edit Locations</h4></li>
        </ul>
      </container>
    </div>
    <div class="text main">
      <section class="main_section main_section_active" id="m1">
        <h2>Welcome, <?=$_SESSION["staff_username"]?>.</h2>
      </section>
      <section class="main_section" id="m2">
        <h2>Activity</h2>
      </section>
      <section class="main_section" id="m3">
        <h2>Sign In Log</h2>
      </section>
      <section class="main_section" id="m4">
        <h2>Sign Out Log</h2>
      </section>
      <section class="main_section" id="m5">
        <h2>Events</h2>
      </section>

      <section class="main_section" id="m11">
        <h2>Manage Staff</h2>
      </section>

      <section class="main_section" id="m21">
        <h2 class="title">Manage Users</h2>
        <div class="table_wrapper">
          <header>
            <h2>Users</h2>
            <div class="button_wrapper">
              <button onclick="toggleHiddenSection('users_add_section');" class="add_button" id="add_user_button">Add User</button>
            </div>
          </header>
          <table class='table' id='user_accounts_table'>
            <tr>
              <th>ID</th>
              <th>Forename</th>
              <th>Surname</th>
              <th>Email</th>
              <th>Room Number</th>
              <th>Gender</th>
              <th>Initials</th>
              <th></th>
            </tr>
            <?php fillUsersTable() ?>
          </table>
          <footer/>
        </div>
        <section class="hidden_section input_area" id="users_edit_section">
          <h3 id="users_edit_title">Edit Users -</h3>
          <form id="edit_user_form" autocomplete="off" class="text generic_form" action="" method="POST">
            <input type="hidden" name="edit_user_form" value="true"/>
            <input class="user_id_storage" type="hidden" name="user_id" value="0"/>
            <div class="input_wrapper">
              <label for="new_user_forename"><h4>Forename:</h4></label>
              <input id="new_user_forename" name="new_user_forename" type="text" maxlength="32" pattern="[a-zA-Z]+"></input>
            </div>
            <div class="input_wrapper">
              <label for="new_user_surname"><h4>Surname:</h4></label>
              <input id="new_user_surname" name="new_user_surname" type="text" maxlength="32" pattern="[a-zA-Z]+"></input>
            </div>
            <div class="input_wrapper description">
              <label for="new_user_email"><h4>Email:</h4></label>
              <textarea id="new_user_email" name="new_user_email"rows="4" cols="50" maxlength="320"></textarea>
            </div>
            <div class="input_wrapper">
              <label for="new_user_room_num"><h4>Room Number:</h4></label>
              <input id="new_user_room_num" name="new_user_room_num" type="text" maxlength="3" pattern="[0-9]+"></input>
            </div>
            <div class="radio_input_area">
              <label><h4>Gender:</h4></label>
              <div class="radio_wrapper">
                <input type="radio" name="new_user_gender" value="m">
                <label>Male</label>
                <input type="radio" name="new_user_gender" value="f">
                <label>Female</label>
                <input type="radio" checked="checked" name="new_user_gender" value="o">
                <label>Other</label>
              </div>
            </div>
            <div class="input_wrapper">
              <input class="submit_button" type="submit" value="Make Changes" />
            </div>
          </form>
          <form id="remove_user_form" autocomplete="off" class="text generic_form" action="" method="POST">
            <input type="hidden" name="remove_user" value="true"/>
            <input class="user_id_storage" type="hidden" name="user_id" value="0"/>
            <div class="input_wrapper">
              <label for="remove_user"><h4>Remove User:</h4></label>
              <input class="submit_button remove_button" type="submit" value="Remove" />
            </div>
          </form>
        </section>
        <section class="hidden_section input_area" id="users_add_section">
          <h3>Add User</h3>
          <form id="add_user_form" autocomplete="off" class="text generic_form" action="" method="POST">
            <input type="hidden" name="add_user" value="true"/>
            <div class="input_wrapper">
              <label for="user_forename"><h4>Forename*:</h4></label>
              <input id="user_forename" name="user_forename" placeholder="Required" type="text" maxlength="32" pattern="[a-zA-Z]+" required></input>
            </div>
            <div class="input_wrapper">
              <label for="user_surname"><h4>Surname*:</h4></label>
              <input id="user_surname" name="user_surname" placeholder="Required" type="text" maxlength="32" pattern="[a-zA-Z]+" required></input>
            </div>
            <div class="input_wrapper description">
              <label for="user_email"><h4>Email:</h4></label>
              <textarea id="user_email" name="user_email" value="" placeholder="Optional" value="" rows="4" cols="50" maxlength="320"></textarea>
            </div>
            <div class="input_wrapper">
              <label for="user_room_num"><h4>Room Number:</h4></label>
              <input id="user_room_num" name="user_room_num" placeholder="Optional" value="" type="text" maxlength="3" pattern="[0-9]+"></input>
            </div>
            <div class="radio_input_area">
              <label><h4>Gender:</h4></label>
              <div class="radio_wrapper">
                <input type="radio" name="user_gender" value="m">
                <label>Male</label>
                <input type="radio" name="user_gender" value="f">
                <label>Female</label>
                <input type="radio" checked="checked" name="user_gender" value="o">
                <label>Other</label>
              </div>
            </div>
            <div class="input_wrapper">
              <input class="submit_button" type="submit" value="Add User" />
            </div>
          </form>
        </section>
      </section>

      <section class="main_section" id="m31">
        <h2 class="title">Manage Database</h2>
        <div class="table_wrapper">
          <header>
            <h2>Locations</h2>
            <div class="button_wrapper">
              <button onclick="toggleHiddenSection('locations_add_section');" class="add_button" id="add_location_button">Add Location</button>
            </div>
          </header>
          <table class='table' id='locations_table'>
            <tr>
              <th>ID</th>
              <th>Location</th>
              <th>Description</th>
              <th>Popularity</th>
              <th></th>
            </tr>
            <?php fillLocationsTable() ?>
          </table>
          <footer/>
        </div>
        <section class="hidden_section input_area" id="locations_edit_section">
          <h3 id="locations_edit_title">Edit Location -</h3>
          <form id="edit_location_form" autocomplete="off" class="text generic_form" action="" method="POST">
            <input type="hidden" name="edit_location_form" value="true"/>
            <input class="location_id_storage" type="hidden" name="location_id" value="0"/>
            <div class="input_wrapper">
              <label for="new_location_name"><h4>Change Name:</h4></label>
              <input id="new_location_name" name="new_location_name" type="text" maxlength="20"></input>
            </div>
            <div class="input_wrapper description">
              <label for="new_location_desc"><h4>Change Description:</h4></label>
              <textarea id="new_location_desc" name="new_location_desc" rows="4" cols="50" maxlength="100"></textarea>
            </div>
            <div class="radio_input_area">
              <label><h4>Change Popularity:</h4></label>
              <div class="radio_wrapper">
                <input type="radio" name="new_location_pop" value="1">
                <label>1</label>
                <input type="radio" name="new_location_pop" value="2">
                <label>2</label>
                <input type="radio" name="new_location_pop" value="3">
                <label>3</label>
                <input type="radio" name="new_location_pop" value="4">
                <label>4</label>
                <input type="radio" name="new_location_pop" value="5">
                <label>5</label>
              </div>
            </div>
            <div class="input_wrapper">
              <input class="submit_button" type="submit" value="Make Changes" />
            </div>
          </form>
          <form id="remove_location_form" autocomplete="off" class="text generic_form" action="" method="POST">
            <input type="hidden" name="remove_location" value="true"/>
            <input class="location_id_storage" type="hidden" name="location_id" value="0"/>
            <div class="input_wrapper">
              <label for="remove_location"><h4>Remove Location:</h4></label>
              <input class="submit_button remove_button" type="submit" value="Remove" />
            </div>
          </form>
        </section>
        <section class="hidden_section input_area" id="locations_add_section">
          <h3>Add Location</h3>
          <form id="add_location_form" autocomplete="off" class="text generic_form" action="" method="POST">
            <input type="hidden" name="add_location" value="true"/>
            <div class="input_wrapper">
              <label for="location_name"><h4>Location Name*:</h4></label>
              <input id="location_name" name="location_name" placeholder="Required" type="text" maxlength="20" required></input>
            </div>
            <div class="input_wrapper description">
              <label for="location_desc"><h4>Description:</h4></label>
              <textarea id="location_desc" name="location_desc" value="" placeholder="Optional" rows="4" cols="50" maxlength="100"></textarea>
            </div>
            <div class="radio_input_area">
              <label><h4>Popularity:</h4></label>
              <div class="radio_wrapper">
                <input type="radio" name="location_pop" value="1">
                <label>1</label>
                <input type="radio" name="location_pop" value="2">
                <label>2</label>
                <input type="radio" name="location_pop" value="3">
                <label>3</label>
                <input type="radio" name="location_pop" value="4">
                <label>4</label>
                <input type="radio" checked="checked" name="location_pop" value="5">
                <label>5</label>
              </div>
            </div>
            <div class="input_wrapper">
              <input class="submit_button" type="submit" value="Add Location" />
            </div>
          </form>
        </section>
      </section>
    </div>
  </div>
</body>
